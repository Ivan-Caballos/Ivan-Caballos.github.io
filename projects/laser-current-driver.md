# Laser / Constant-Current Driver — Bench Verification Note

**Status:** Working prototype (bench verified)  
**Focus:** Closed-loop current regulation + measurement discipline (ammeter burden) + thermal observation

---

## Objective
Validate the driver’s maximum output current and document the key bench measurements.  
A secondary objective was to capture a real-world measurement pitfall discovered during testing: **ammeter burden / instrument loading** (the act of measuring current changed the current).

---

## Overview (high level)
This is a closed-loop current regulation circuit:

- A **reference voltage** is generated by a divider/potentiometer.
- An **op-amp** compares the reference (V+) to the feedback node (V−).
- The op-amp drives a **BJT pass element** to regulate the current through a resistive load.

This type of project is useful because it forces disciplined thinking about:
- measurement points,
- cross-checking results,
- power dissipation and thermal limits.

---

## Schematic & Build Evidence
**Simulation schematic (Proteus):**  
> Replace the path below with your real image path in the repo if different.
![Proteus schematic](../images/laser-current-driver-simulation-v1.png)

**Breadboard build photo:**  
> Replace with your real breadboard photo filename/path.
![Breadboard wiring](../images/TODO_breadboard_photo.jpg)

---

## Test Setup
- **Supply:** ~5 V bench PSU  
- **Load:** 4.7 Ω resistor (measured out-of-circuit with a DMM)  
- **Measurement tools:** DMM(s) + PSU current readback  
- **Condition:** potentiometer at 100%

---

## Key Measurements (pot at 100%)
| Node | Measured value |
|---|---:|
| PSU terminals | 4.991 V |
| On-board input (before divider) | 4.836 V |
| Divider output / Op-amp V+ | 0.992 V |
| Op-amp V− | 0.991 V |
| Op-amp output | 3.339 V |
| BJT collector | 4.836 V |
| BJT emitter | 2.582 V |
| BJT base | 3.284 V |
| Load voltage across 4.7 Ω | 0.991 V |

**Notes**
- The supply dropped from 4.991 V at the PSU to 4.836 V on the circuit (~0.155 V drop), consistent with lead/contact resistance.
- Regulation looked healthy at full scale: **V+ ≈ V− within ~1 mV**, indicating stable closed-loop control.
- BJT base-emitter was ~0.70 V (3.284 − 2.582), a typical operating value.

---

## Output Current Verification (and why the ammeter reading was misleading)

### Case A — No series ammeter (preferred measurement)
With the ammeter removed, current was verified using Ohm’s law across the known load:

- \( V_{Rload} = 0.991 \, V \)
- \( R_{load} = 4.7 \, \Omega \)
- \( I \approx V/R \approx 0.991/4.7 \approx 0.211 \, A \) → **~211 mA**

Cross-check: the PSU readback indicated approximately **~207–208 mA** (stable), consistent with the calculated value.

### Case B — Ammeter inserted in series (instrument loading)
When a DMM was inserted in series to measure current directly, the operating point shifted because the meter introduced a voltage drop (burden):

- Measured drop across the meter: \( V_{meter} \approx 0.21 \, V \)
- Measured total across (load + meter): \( V_{load} + V_{meter} \approx 0.986 \, V \)
- Therefore \( V_{load} \approx 0.986 - 0.21 = 0.776 \, V \)
- Current becomes \( I \approx 0.776/4.7 \approx 0.165 \, A \) → **~165 mA**

Estimated meter series resistance:
- \( R_{meter} \approx V_{meter}/I \approx 0.21/0.165 \approx 1.27 \, \Omega \)

**Conclusion:** the ammeter itself reduced the current by adding significant series resistance.  
For development measurements, current was therefore derived primarily from **V/R** across a known resistor (or measured using a low-burden method).

---

## Thermal Observation
At high current the BJT became **very hot** (too hot to comfortably touch).  
From measured node voltages at full scale:

- \( V_{CE} \approx V_C - V_E \approx 4.836 - 2.582 \approx 2.25 \, V \)
- At ~0.21 A, dissipation is roughly:
  - \( P \approx V_{CE} \cdot I \approx 2.25 \times 0.21 \approx 0.47 \, W \)

This explains the rapid heating without a heatsink.

### Thermal mitigation
At high current the pass transistor heated rapidly in linear operation. A small PC fan was used during testing to improve airflow and keep the operating point stable. Under airflow, the supply readback was ~190 mA at ~0.95 W input power.

---

## What I Learned
- **Measurement can change the circuit:** inserting an ammeter can introduce enough burden to shift the operating point.
- **Cross-checking matters:** V/R across a known resistor is a reliable validation method when the ammeter is intrusive.
- **Thermals are real:** a linear pass device at ~0.2 A can dissipate ~0.5 W and requires a thermal strategy.

---

## Next Steps (v2 improvements)
- Add a **small heatsink** or improve thermal path for the BJT during high-current operation.
- Consider replacing the BJT pass element with a **logic-level MOSFET** to reduce dissipation.
- Add a dedicated **current-sense resistor + test points** for easier verification (and support 4-wire measurement if needed).
- Perform a small sweep (e.g., 20/50/80/120/160/max mA) and record a results table for repeatability.

---

## Files / Evidence
- Proteus schematic image: `TODO` (linked above)
- Breadboard photo: `TODO` (linked above)
